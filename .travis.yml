language: go
go: stable
cache:
  directories:
  - $GOPATH/pkg/mod
services:
- docker
env:
  global:
  - GO111MODULE=on
jobs:
  include:
  - name: Test Go stable
  - name: Lint with golangci-lint
    before_script:
    - curl -sfL https://install.goreleaser.com/github.com/golangci/golangci-lint.sh | sh -s -- -b $(go env GOPATH)/bin v1.15.0
    script: golangci-lint run -v
  - name: Build Docker container
    install: skip
    script: docker build .
